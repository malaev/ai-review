# AI Code Review –¥–ª—è React + TypeScript

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–≥–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–¥–∞ –≤ Pull Request –¥–ª—è React + TypeScript –ø—Ä–æ–µ–∫—Ç–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç DeepSeek AI –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–¥–∞ –∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã–º –º–µ—Å—Ç–∞–º.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìù –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- üîí –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚ö° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üí¨ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

1. –î–æ–±–∞–≤—å—Ç–µ —Å–µ–∫—Ä–µ—Ç `DEEPSEEK_API_KEY` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (Settings -> Secrets -> Actions)

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.github/workflows/code-review.yml`:

```yaml
name: Code Review

on:
  pull_request:
    types: [opened, synchronize]
  pull_request_review_comment:
    types: [created]

jobs:
  review:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      pull-requests: write
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4

    - name: AI Code Review
      uses: malaev/ai-review@v0.1.34
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        DEEPSEEK_API_KEY: ${{ secrets.DEEPSEEK_API_KEY }}
        PR_NUMBER: ${{ github.event.pull_request.number }}
        GITHUB_REPOSITORY: ${{ github.repository }}
        GITHUB_EVENT_NAME: ${{ github.event_name }}
        COMMENT_ID: ${{ github.event.comment.id }}
        REPLY_TO_ID: ${{ github.event.comment.in_reply_to_id }}
      with:
        DEEPSEEK_API_KEY: ${{ secrets.DEEPSEEK_API_KEY }}
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ Pull Request, –±–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã–º –º–µ—Å—Ç–∞–º –≤ –∫–æ–¥–µ.

2. –ö–∞–∂–¥—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç:
   - –¢–∏–ø –ø—Ä–æ–±–ª–µ–º—ã (Quality üìù, Security üîí, Performance ‚ö°)
   - –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∫–∞–∫ –∑–∞–¥–∞—Ç—å —É—Ç–æ—á–Ω—è—é—â–∏–π –≤–æ–ø—Ä–æ—Å

3. –ß—Ç–æ–±—ã –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—é:
   - –ù–∞—á–Ω–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å —Å `@ai` –∏–ª–∏ `/ai`

## –ß—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è

–ë–æ—Ç —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä—å–µ–∑–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö:
- –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ React —Ö—É–∫–æ–≤
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ race conditions
- –ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –°–µ—Ä—å–µ–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ

–ë–æ—Ç –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç:
- –°—Ç–∏–ª–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ —Ç–∞–º, –≥–¥–µ –æ–Ω–∏ –æ—á–µ–≤–∏–¥–Ω—ã
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ console.log
- –ú–µ–ª–∫–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –ª–∏–Ω—Ç–µ—Ä–∞
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- GitHub Actions –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∫–ª—é—á–µ–Ω—ã –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ù–µ–æ–±—Ö–æ–¥–∏–º API –∫–ª—é—á –æ—Ç DeepSeek AI
- Pull Request –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è–º–∏: .ts, .tsx, .js, .jsx

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitLab CI/CD (beta)

> ‚ö†Ô∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GitLab –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ê–¥–∞–ø—Ç–µ—Ä —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –∑–∞–≥–æ—Ç–æ–≤–∫–∞, –Ω–æ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–∞–±–æ—á–µ–π –ª–æ–≥–∏–∫–∏. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω —à–∞–±–ª–æ–Ω –¥–ª—è –±—É–¥—É—â–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

### –ü—Ä–∏–º–µ—Ä `.gitlab-ci.yml`

```yaml
stages:
  - review

ai_code_review:
  stage: review
  image: node:20
  script:
    - npm ci
    - npm run build
    - node dist/main.js
  variables:
    GITLAB_TOKEN: "$GITLAB_TOKEN" # –¢–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ MR
    DEEPSEEK_API_KEY: "$DEEPSEEK_API_KEY"
    GITLAB_PROJECT_ID: "$CI_PROJECT_ID"
    GITLAB_MR_ID: "$CI_MERGE_REQUEST_IID"
    # ... –¥—Ä—É–≥–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–æ –º–µ—Ä–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
  only:
    - merge_requests
```

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `GITLAB_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω —Å –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ Merge Request API
- `DEEPSEEK_API_KEY` ‚Äî –∫–ª—é—á DeepSeek
- `GITLAB_PROJECT_ID`, `GITLAB_MR_ID` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞ –∏ MR (—Å–º. [GitLab CI/CD variables](https://docs.gitlab.com/ee/ci/variables/))

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ GitLab –ø–æ—è–≤–∏—Ç—Å—è –ø–æ—Å–ª–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞ –≤ `src/adapters/gitlab.ts`.
- API –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è, —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏. 